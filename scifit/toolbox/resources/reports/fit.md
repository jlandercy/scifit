---
documentclass: article
geometry: margin=3cm
toc: true
numbersections: true

title: {{title}}
author: {{author}}

urlcolor: blue
linkcolor: red

header-includes:
  - \usepackage{amsmath}
  - \usepackage{mathtools}
  - \usepackage{longtable}
  - \usepackage{booktabs}
  - \usepackage[inline]{enumitem}
  - \usepackage{siunitx}
  - \sisetup{tight-spacing=true,round-mode=places,round-precision=4}
---
# Summary

## Information

This report has been automatically generated by the SciFit package.
It includes all mandatory information about the data, model and adjustment.
See our [repository](https://github.com/jlandercy/scifit) for methodology details.

\clearpage

# Report

## Fit

Adjustment have been performed for a model of {{m}} variable(s) and {{k}} parameter(s)
with a dataset of {{n}} observation(s).

{% if equation %}
Model has the following formulation:
{% if table_mode == "latex" %}
{% if equation_array %}
\begin{eqnarray}
{{equation}}
\end{eqnarray}
{% else %}
\begin{equation}
{{equation}}
\end{equation}
{% endif %}
{% else %}
{% if equation_array %}
$$\begin{eqnarray}
{{equation}}
\end{eqnarray}$$
{% else %}
$${{equation}}$$
{% endif %}
{% endif %}
{% endif %}

Figure \ref{fig:fit} presents data and adjustment.

![Data & fit\label{fig:fit}]({{fit_payload}}){width=350px}

Adjustment returned following parameters:

{{parameters}}

{% if solved %}
Model has **converged** through an optimum with the following message: *{{message}}*.
{% else %}
Model has **not converged** through an optimum with the following message: *{{message}}*.
{% endif %}

See loss surface shown at figure \ref{fig:loss} to get more insight about the convergence
and the returned solution.

## Convergence

Figure \ref{fig:loss} presents loss function landscape in the neighborhood of the solution.

![Loss function\label{fig:loss}]({{loss_payload}}){width=250px}

{% if solved %}
The regression **has converged**, by inspecting the loss surface we can confirm the locality of the optimum.\footnote{
If the model is linear we can confirm this is the global optimum.
If the model is not linear we may have found the optimum, but we should confirm it by inspecting the loss surface.
}
{% else %}
The regression **has not converged**, we must inspect the loss surface to check out the reason.
You may investigate the following potential solutions:

  - Change the initial guess for parameters;
  - Refine or reformulate the model (parameters decoupling);
  - Standardize dataset (normalization);
  - Assess numerical stability of the model.
{% endif %}

## Statistical tests

### Goodness of fit

Figure \ref{fig:chi2} presents the Chi Square test for goodness of fit.

![Chi Square test\label{fig:chi2}]({{chi2_payload}}){width=250px}

{% if chi2_significant %}
The adjustment is **statistically significant** with a $\chi^2$ statistic of {{chi2_statistic}} ($\nu = {{nu}}$) and p-value of {{chi2_pvalue}}.
{% else %}
The adjustment is **not statistically significant** with a $\chi^2$ statistic of {{chi2_statistic}} ($\nu = {{nu}}$) and p-value of {{chi2_pvalue}}.
{% endif %}

Following abacus \ref{tab:chi2_abacus} presents critical values for $\chi^2$ for several $\alpha$ in three versions:
unilateral (left and right) and bilateral.

{{chi2_abacus}}\label{tab:chi2_abacus}

### Kolmogorov

Figure \ref{fig:k2s} presents the Kolmogorov test for goodness of fit.

![Kolmogorov test\label{fig:k2s}]({{k2s_payload}}){width=250px}

{% if k2s_significant %}
The adjustment is **statistically significant** with a Kolmogorov statistic {{k2s_statistic}} of and a p-value of {{k2s_pvalue}}.
{% else %}
The adjustment is **not statistically significant** with a Kolmogorov statistic {{k2s_statistic}} of and a p-value of {{k2s_pvalue}}.
{% endif %}

\clearpage


# Annexe

## Data
Table \ref{tab:data} presents raw data and aggregates.

\tiny
{{table_payload}}\label{tab:data}
\normalsize